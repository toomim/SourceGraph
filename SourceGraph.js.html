<script>

// This is the same as SourceGraph.html, but uses Javascript instead of
// Coffeescript!
//
// The conversion just requires extra punctuation, and replacing nested `for`
// and `if` expressions with `map` and `? :`.

dom = {}  // Oh, and the js version needs this line

dom.BODY = () =>
  DIV({                          // Container
    width: '100%',
    height: '100%',
    position: 'absolute',
    backgroundColor: 'blue',
    margin: -8,
    overflow:'hidden'},

    DIV({                        // Tab Container
      width: 200,
      height: '100%',
      position: 'relative',
      backgroundColor: 'lightblue',
      float: 'left',
      borderRight: 'solid',
      borderRightWidth: 1,
      borderColor: 'black'},

      [1,2,3].map(_=>
        DIV({                    // Tab
          height: 20,
          position: 'relative',
          backgroundColor: 'green',
          borderBottom: 'solid',
          borderBottomWidth: 1}))),
    
    DIV({                        // Panel Container
      width: 400,
      height: '100%',
      position: 'relative',
      backgroundColor: 'yellow',
      float: 'left',
      borderRight: 'solid',
      borderRightWidth: 1,
      borderColor: 'black',
      overflow: 'hidden'},

      DIV({                      // Panel
        width: 390,
        height: '100%',
        position: 'relative',
        backgroundColor: 'orange',
        float: 'left',
        borderRight: 'solid',
        borderRightWidth: 1},

        DIV({                    // Metadata Header
          height: 100,
          position: 'relative',
          backgroundColor: 'red',
          borderBottom: 'solid',
          borderBottomWidth: 1},
          'Metadata Header'),

        TEXTAREA({
          width: '100%',
          height: 500,
          position: 'relative',
          backgroundColor: 'gray',
          borderBottom: 'solid',
          borderBottomWidth: 1,
          value: fetch('ui').editor_text,
          onChange: (e) => {
            ui = fetch('ui')
            ui.editor_text = e.target.value
            save(ui)
          }}),

        DIV({                    // Publish button
          width: 75,
          height: 20,
          position: 'relative',
          border: 'solid',
          borderWidth: 1,
          backgroundColor: 'white',
          textAlign: 'center',
          onClick: _=> {
            save({key: '/source/27348234', content: fetch('ui').editor_text})
          }},
          'Publish'))))

</script><script src="https://stateb.us/client6.js"></script>